<html>
    <head>
        <title>Emscripten Box2D demo</title>
        
		<script src='box2d.js'></script>
		<script type="text/javascript" src="embox2d-helpers.js"></script>
		<script type="text/javascript" src="embox2d-html5canvas-testbed.js"></script>
		<script type="text/javascript" src="draw.js"></script>
		<script type="text/javascript" src="crayonPhysics.js"></script>
		<script type="text/javascript">
		//console.log(canvas)
		 Module.TOTAL_MEMORY =256*1024*1024;
            window.onload = function() {
				img = new Image();
				img.src ='sprites/paper.jpg';
                using(Box2D, "b2.+")
                init();
                changeTest();
                animate();
            };        
        </script>
      
    </head>
    <body>
        <div style='text-align:center'>
            <h2>Emscripten Box2D demo</h2>
            This demo uses JavaScript generated from the Box2D C++ source code by the <a href="https://github.com/kripken/emscripten/wiki">emscripten</a> compiler.<br>
            See <a href="https://github.com/kripken/box2d.js">https://github.com/kripken/box2d.js</a> for more details.<br>
            <br>            
            <!--
                If you change the size of the canvas, you'll also need to change 
                the value of 'viewCenterPixel' in embox2d-html5canvas-testbed.js
            -->
            <div style="margin:auto;width:1200px;padding:2px;border:1px solid #888;text-align:left">            
            
                
                <canvas id="canvas" width="1200" height="600" tabindex='1'style='background-color:rgba(0,0,10,1)'></canvas>
                <div style="width:1196px;padding:2px;background-color:rgba(128,256,128,0.1)">
                <div style="text-align:center">
                    <button id="reloadButton" onclick="resetScene();">Reset</button>
                    <button id="pauseButton" onclick="pause();">Pause</button>
                    <button id="stepButton" onclick="step();">Single step</button>
                    (Keyboard: R, P, S)<br>
                    
                    Hold down Shift while moving the mouse to pan (Keyboard: arrow keys)<br>
                    You need to click on the canvas before using the keyboard.<br>
                    <br>
                    Test: <select id="testSelection" onchange="changeTest()">
						<option value="embox2dTest_crayonPhysics">crayonPhysics</option>
						<option value="embox2dTest_joints">joints</option>
						<option value="embox2dTest_drawing">drawing</option>
						<option value="embox2dTest_fallingBalls">fallingBalls</option>	
                    </select>
                </div>
                <br>
                <br>
                </div>
            </div>        
        </div>
    </body>
</html>

